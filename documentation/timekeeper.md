<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

*   [Timekeeper][1]
    *   [getPhaseOfDay][2]
    *   [increment][3]
    *   [set][4]
    *   [getTime][5]
    *   [toTimeString][6]
    *   [formatTime][7]
    *   [tellTime][8]
    *   [factorGameTurns][9]
    *   [factorTime][10]
*   [time][11]
    *   [Properties][12]
*   [timeAugmented][13]
    *   [Properties][14]
*   [dayData][15]
    *   [Properties][16]
*   [timeChangeData][17]
    *   [Properties][18]
*   [gameTurnTime][19]
    *   [Properties][20]
*   [Constants][21]
    *   [Properties][22]

## Timekeeper

The public API for Easy Timekeeping.

### getPhaseOfDay

Get the name of the current phase of the day as a localised string.

Not to be confused with the four shifts, the phase of day relates
to the daylight cycle. During the day phase, the scene lighting
will be set to the day value. During the night, scene lighting is
set to the night value. During dawn, lighting is gradually changed
from the night to the day values, while during dusk, the lighting
changes from the day to night values.

Returns **[string][23]** the localised name of the day phase.
This is one of the set `[Dawn, Day, Dusk, Night]`, but localized.

### increment

Increment or decrement the time.
You must be a GM to run this function.

#### Parameters

*   `time` **[time][11]** the time step to increment or decrement

Returns **[timeChangeData][17]** if the time was changed, otherwise `false`.

### set

Set the time.
You must be a GM to run this function.

#### Parameters

*   `time` **[time][11]** the time to set

Returns **[timeChangeData][17]** if the time was changed, otherwise `false`.

### getTime

Gets the current time.

Returns **[timeAugmented][13]** the current time

### toTimeString

Gets the current time as a formatted string.

#### Parameters

*   `includeDay` **[boolean][24]** Determines whether the current day is included in the string (optional, default `false`)

Returns **[string][23]** the current time as a formatted string suitable for display

### formatTime

Formats an arbitrary time using the same pattern rules as `toTimeString`

#### Parameters

*   `totalMinutes` **[number][25]** The total number of minutes since 0:00 on day 0
*   `includeDay` **[boolean][24]** Determines whether the day is included in the string (optional, default `false`)

Returns **[string][23]** the time as a formatted string suitable for display

### tellTime

Posts the time as a formatted chat message

#### Parameters

*   `time` **[time][11]** the optional time to post. If not supplied, then the current time is displayed. (optional, default `null`)

### factorGameTurns

Factors a time object into game turns, shifts and days

#### Parameters

*   `totalMinutes` **[number][25]** total elapsed minutes since 12am on day 0

Returns **[gameTurnTime][19]** `totalMinutes` factored into game turns, shifts, days and weeks

### factorTime

Factors a time in total minutes into a time object.
This API method has no side-effects, and does not change the internal
time state.

#### Parameters

*   `totalMinutes` **[number][25]** The total number of minutes since 0:00 on day 0

Returns **[timeAugmented][13]**&#x20;

## time

A time object used for inputting time values to the Easy Timekeeping API

Type: [Object][26]

### Properties

*   `days` **[number][25]** days since day 0
*   `hours` **[number][25]** hour of the day in 24-hour time, range \[0..23]
*   `minutes` **[number][25]** minute of the hour, range \[0..59]

## timeAugmented

An augmented time object used when values are returned from the Easy Timekeeping API

Type: [Object][26]

### Properties

*   `days` **[number][25]** days since day 0
*   `hours` **[number][25]** hour of the day in 24-hour time, range \[0..23]
*   `minutes` **[number][25]** minute of the hour, range \[0..59]
*   `totalMinutes` **[number][25]** total elapsed minutes since 12am on day 0
*   `weekNumber` **[number][25]** 1-based number of 7-day weeks that have elapsed, including the current partial week.
*   `day` **[dayData][15]** additional metadata about the day of the week

## dayData

Day data

Type: [Object][26]

### Properties

*   `index` **[number][25]** 1-based number of the day of the week, starting with Monday. Each week is fixed at 7 days.
*   `name` **[string][23]** the name of the current day of the week, based on the current world settings.

## timeChangeData

Time change object returned from the Easy Timekeeping API

Type: [Object][26]

### Properties

*   `oldTime` **[timeAugmented][13]** the previous time
*   `time` **[timeAugmented][13]** the new time

## gameTurnTime

Game turn time. This is used by the graphical clocks, and returned from API calls.

Type: [Object][26]

### Properties

*   `totalGameTurns` **[number][25]** total number of elapsed game turns
*   `days` **[number][25]** days since day 0
*   `shifts` **[number][25]** the current shift out of the 4 shifts per day. 0-based, range \[0..3]
*   `turns` **[number][25]** the current game turn within the current shift. 0-based indexing
*   `day` **[dayData][15]** additional metadata about the day of the week
*   `weekNumber` **[number][25]** 1-based number of n-day weeks that have elapsed, including the current partial week. The Number of days in a week has the range \[5..14] with a default of 7. This value is set by the GM in the module settings.
*   `shiftName` **[string][23]** the name of the current shift, based on world settings.

## Constants

Constants used in time calculations.

### Properties

*   `secondsPerDay` **[number][25]** The number of seconds in a day.
*   `minutesPerDay` **[number][25]** The number of minutes in a day.
*   `hoursPerDay` **[number][25]** The number of hours in a day.
*   `shiftsPerDay` **[number][25]** The number of shifts in a day.
*   `minutesPerShift` **[number][25]** The number of minutes in a shift.
*   `hoursPerShift` **[number][25]** The number of hours in a shift.
*   `daysPerWeek` **[number][25]** The number of days in a week.
*   `minutesPerTurn` **[number][25]** The number of minutes in a game turn. Will vary by current module settings.
*   `turnsPerShift` **[number][25]** The number of game turns per shift. Will vary by current module settings.
*   `turnsPerDay` **[number][25]** The number of game turns per day. Will vary by current module settings.

[1]: #timekeeper

[2]: #getphaseofday

[3]: #increment

[4]: #set

[5]: #gettime

[6]: #totimestring

[7]: #formattime

[8]: #telltime

[9]: #factorgameturns

[10]: #factortime

[11]: #time

[12]: #properties

[13]: #timeaugmented

[14]: #properties-1

[15]: #daydata

[16]: #properties-2

[17]: #timechangedata

[18]: #properties-3

[19]: #gameturntime

[20]: #properties-4

[21]: #constants

[22]: #properties-5

[23]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[24]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[25]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[26]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object
